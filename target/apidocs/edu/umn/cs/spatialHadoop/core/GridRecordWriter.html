<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_76) on Tue Jun 07 14:32:58 CDT 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>GridRecordWriter (SpatialHadoop 2.4.1-SNAPSHOT API)</title>
<meta name="date" content="2016-06-07">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="GridRecordWriter (SpatialHadoop 2.4.1-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GridRecordWriter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridInfo.html" title="class in edu.umn.cs.spatialHadoop.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../edu/umn/cs/spatialHadoop/core/OGCESRIShape.html" title="class in edu.umn.cs.spatialHadoop.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" target="_top">Frames</a></li>
<li><a href="GridRecordWriter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.umn.cs.spatialHadoop.core</div>
<h2 title="Class GridRecordWriter" class="title">Class GridRecordWriter&lt;S extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>edu.umn.cs.spatialHadoop.core.GridRecordWriter&lt;S&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>S</code> - - type of shape written as value.</dd></dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html" title="interface in edu.umn.cs.spatialHadoop.core">ShapeRecordWriter</a>&lt;S&gt;</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../edu/umn/cs/spatialHadoop/mapred/GridRecordWriter.html" title="class in edu.umn.cs.spatialHadoop.mapred">GridRecordWriter</a>, <a href="../../../../../edu/umn/cs/spatialHadoop/mapred/GridRecordWriter2.html" title="class in edu.umn.cs.spatialHadoop.mapred">GridRecordWriter2</a>, <a href="../../../../../edu/umn/cs/spatialHadoop/mapred/GridRecordWriter3.html" title="class in edu.umn.cs.spatialHadoop.mapred">GridRecordWriter3</a>, <a href="../../../../../edu/umn/cs/spatialHadoop/core/RTreeGridRecordWriter.html" title="class in edu.umn.cs.spatialHadoop.core">RTreeGridRecordWriter</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">GridRecordWriter&lt;S extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html" title="interface in edu.umn.cs.spatialHadoop.core">ShapeRecordWriter</a>&lt;S&gt;</pre>
<div class="block">Writes a spatial file where objects are of type S. This class is used as a
 base class for all spatial record writers. Since a record writer must
 implement a <code>RecordWriter</code> with specific keys and values, we do all
 the implementation in this class and extend it with an implementation of
 RecordWriter with specific key and value.
 
 This class is not made abstract because it is still used outside of MapReduce
 programs.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Ahmed Eldawy</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../edu/umn/cs/spatialHadoop/mapred/GridRecordWriter.html" title="class in edu.umn.cs.spatialHadoop.mapred"><code>GridRecordWriter</code></a>, 
<a href="../../../../../edu/umn/cs/spatialHadoop/mapred/GridRecordWriter2.html" title="class in edu.umn.cs.spatialHadoop.mapred"><code>GridRecordWriter2</code></a>, 
<a href="../../../../../edu/umn/cs/spatialHadoop/mapred/GridRecordWriter3.html" title="class in edu.umn.cs.spatialHadoop.mapred"><code>GridRecordWriter3</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#blockSize">blockSize</a></strong></code>
<div class="block">Block size for grid file written</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../edu/umn/cs/spatialHadoop/core/CellInfo.html" title="class in edu.umn.cs.spatialHadoop.core">CellInfo</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#cells">cells</a></strong></code>
<div class="block">The spatial boundaries for each cell</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../edu/umn/cs/spatialHadoop/core/Rectangle.html" title="class in edu.umn.cs.spatialHadoop.core">Rectangle</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#cellsMbr">cellsMbr</a></strong></code>
<div class="block">MBR of the records written so far to each cell</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html?is-external=true" title="class or interface in java.util">ArrayList</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang">Thread</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#closingThreads">closingThreads</a></strong></code>
<div class="block">A list of threads closing cells in background</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#ExpandedIndexes">ExpandedIndexes</a></strong></code>
<div class="block">A list of indexes in which each partition has to be expanded to fully
 contain all the records inside it</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.FileSystem</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#fileSystem">fileSystem</a></strong></code>
<div class="block">File system for output path</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.Path[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#intermediateCellPath">intermediateCellPath</a></strong></code>
<div class="block">Paths of intermediate files</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#intermediateCellRecordCount">intermediateCellRecordCount</a></strong></code>
<div class="block">Keeps the number of elements written to each cell so far.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#intermediateCellSize">intermediateCellSize</a></strong></code>
<div class="block">Size in bytes of intermediate files written so far</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#intermediateCellStreams">intermediateCellStreams</a></strong></code>
<div class="block">An output stream for each grid cell</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.mapred.JobConf</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#jobConf">jobConf</a></strong></code>
<div class="block">Job configuration if part of a MapReduce job</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static org.apache.commons.logging.Log</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#LOG">LOG</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#masterFile">masterFile</a></strong></code>
<div class="block">An output stream to the master file</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#NEW_LINE">NEW_LINE</a></strong></code>
<div class="block">New line marker to separate records</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#outDir">outDir</a></strong></code>
<div class="block">Path of the output directory if not part of a MapReduce job</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#pack">pack</a></strong></code>
<div class="block">Pack MBR of each cell around its content after it's written to disk</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#PackedIndexes">PackedIndexes</a></strong></code>
<div class="block">A list of indexes the can be optimized by packing each partition to remove
 empty space</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#prefix">prefix</a></strong></code>
<div class="block">A unique prefix to all files written by this writer</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#ReplicatedIndexes">ReplicatedIndexes</a></strong></code>
<div class="block">Indexes where an object might be replicated to multiple partitions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#stockObject">stockObject</a></strong></code>
<div class="block">A stock object used for serialization/deserialization</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.io.Text</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#text">text</a></strong></code>
<div class="block">Temporary text to serialize one object</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#GridRecordWriter(org.apache.hadoop.fs.Path,%20org.apache.hadoop.mapred.JobConf,%20java.lang.String,%20edu.umn.cs.spatialHadoop.core.CellInfo[])">GridRecordWriter</a></strong>(org.apache.hadoop.fs.Path&nbsp;outDir,
                org.apache.hadoop.mapred.JobConf&nbsp;job,
                <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prefix,
                <a href="../../../../../edu/umn/cs/spatialHadoop/core/CellInfo.html" title="class in edu.umn.cs.spatialHadoop.core">CellInfo</a>[]&nbsp;cells)</code>
<div class="block">Creates a new GridRecordWriter that will write all data files to the
 given directory</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#close(org.apache.hadoop.util.Progressable)">close</a></strong>(org.apache.hadoop.util.Progressable&nbsp;progressable)</code>
<div class="block">Close the whole writer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#closeCell(int)">closeCell</a></strong>(int&nbsp;cellIndex)</code>
<div class="block">Closes (or initiates a close command) for the cell with the given index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#closeCellBackground(org.apache.hadoop.fs.Path,%20org.apache.hadoop.fs.Path,%20java.io.OutputStream,%20java.io.OutputStream,%20edu.umn.cs.spatialHadoop.core.CellInfo,%20long,%20long)">closeCellBackground</a></strong>(org.apache.hadoop.fs.Path&nbsp;intermediateCellPath,
                   org.apache.hadoop.fs.Path&nbsp;finalCellPath,
                   <a href="http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;intermediateCellStream,
                   <a href="http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;masterFile,
                   <a href="../../../../../edu/umn/cs/spatialHadoop/core/CellInfo.html" title="class in edu.umn.cs.spatialHadoop.core">CellInfo</a>&nbsp;cellMbr,
                   long&nbsp;recordCount,
                   long&nbsp;cellSize)</code>
<div class="block">Close the given cell freeing all memory reserved by it.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#createFinalCellStream(org.apache.hadoop.fs.Path)">createFinalCellStream</a></strong>(org.apache.hadoop.fs.Path&nbsp;cellFilePath)</code>
<div class="block">Creates an output stream that will be used to write the final cell file</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#flushAllEntries(org.apache.hadoop.fs.Path,%20java.io.OutputStream,%20org.apache.hadoop.fs.Path)">flushAllEntries</a></strong>(org.apache.hadoop.fs.Path&nbsp;intermediateCellPath,
               <a href="http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;intermediateCellStream,
               org.apache.hadoop.fs.Path&nbsp;finalCellPath)</code>
<div class="block">Flushes all shapes that were written to one cell to the final file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#getFilePath(java.lang.String)">getFilePath</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename)</code>
<div class="block">Returns a path to a file with the given name in the output directory
 of the record writer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#getFinalCellPath(int)">getFinalCellPath</a></strong>(int&nbsp;cellIndex)</code>
<div class="block">Returns path to a file in which the final cell will be written.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#getIntermediateCellStream(int)">getIntermediateCellStream</a></strong>(int&nbsp;cellIndex)</code>
<div class="block">Returns an output stream in which records are written as they come before
 they are finally flushed to the cell file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#getMasterFilePath()">getMasterFilePath</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#setStockObject(S)">setStockObject</a></strong>(<a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a>&nbsp;stockObject)</code>
<div class="block">Sets a stock object used to serialize/deserialize objects when written to
 disk.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#write(edu.umn.cs.spatialHadoop.core.CellInfo,%20S)">write</a></strong>(<a href="../../../../../edu/umn/cs/spatialHadoop/core/CellInfo.html" title="class in edu.umn.cs.spatialHadoop.core">CellInfo</a>&nbsp;cellInfo,
     <a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a>&nbsp;shape)</code>
<div class="block">Write the given shape to a specific cell.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#write(int,%20S)">write</a></strong>(int&nbsp;cellId,
     <a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a>&nbsp;shape)</code>
<div class="block">Writes the given shape to the specified cell</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#write(org.apache.hadoop.io.NullWritable,%20S)">write</a></strong>(org.apache.hadoop.io.NullWritable&nbsp;dummy,
     <a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a>&nbsp;shape)</code>
<div class="block">Writes the given shape to the file to all cells it overlaps with</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#write(edu.umn.cs.spatialHadoop.core.Rectangle,%20S)">write</a></strong>(<a href="../../../../../edu/umn/cs/spatialHadoop/core/Rectangle.html" title="class in edu.umn.cs.spatialHadoop.core">Rectangle</a>&nbsp;rect,
     <a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a>&nbsp;shape)</code>
<div class="block">Write a shape given the MBR of its partition.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html#writeInternal(int,%20S)">writeInternal</a></strong>(int&nbsp;cellIndex,
             <a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a>&nbsp;shape)</code>
<div class="block">Write the given shape to the cellIndex indicated.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>public static final&nbsp;org.apache.commons.logging.Log LOG</pre>
</li>
</ul>
<a name="cells">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cells</h4>
<pre>protected&nbsp;<a href="../../../../../edu/umn/cs/spatialHadoop/core/CellInfo.html" title="class in edu.umn.cs.spatialHadoop.core">CellInfo</a>[] cells</pre>
<div class="block">The spatial boundaries for each cell</div>
</li>
</ul>
<a name="intermediateCellPath">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>intermediateCellPath</h4>
<pre>protected&nbsp;org.apache.hadoop.fs.Path[] intermediateCellPath</pre>
<div class="block">Paths of intermediate files</div>
</li>
</ul>
<a name="intermediateCellStreams">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>intermediateCellStreams</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>[] intermediateCellStreams</pre>
<div class="block">An output stream for each grid cell</div>
</li>
</ul>
<a name="cellsMbr">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cellsMbr</h4>
<pre>protected&nbsp;<a href="../../../../../edu/umn/cs/spatialHadoop/core/Rectangle.html" title="class in edu.umn.cs.spatialHadoop.core">Rectangle</a>[] cellsMbr</pre>
<div class="block">MBR of the records written so far to each cell</div>
</li>
</ul>
<a name="jobConf">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>jobConf</h4>
<pre>protected&nbsp;org.apache.hadoop.mapred.JobConf jobConf</pre>
<div class="block">Job configuration if part of a MapReduce job</div>
</li>
</ul>
<a name="outDir">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outDir</h4>
<pre>protected&nbsp;org.apache.hadoop.fs.Path outDir</pre>
<div class="block">Path of the output directory if not part of a MapReduce job</div>
</li>
</ul>
<a name="fileSystem">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fileSystem</h4>
<pre>protected final&nbsp;org.apache.hadoop.fs.FileSystem fileSystem</pre>
<div class="block">File system for output path</div>
</li>
</ul>
<a name="text">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>text</h4>
<pre>protected&nbsp;org.apache.hadoop.io.Text text</pre>
<div class="block">Temporary text to serialize one object</div>
</li>
</ul>
<a name="blockSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockSize</h4>
<pre>protected&nbsp;long blockSize</pre>
<div class="block">Block size for grid file written</div>
</li>
</ul>
<a name="stockObject">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stockObject</h4>
<pre>protected&nbsp;<a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a> extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a> stockObject</pre>
<div class="block">A stock object used for serialization/deserialization</div>
</li>
</ul>
<a name="masterFile">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>masterFile</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a> masterFile</pre>
<div class="block">An output stream to the master file</div>
</li>
</ul>
<a name="closingThreads">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closingThreads</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html?is-external=true" title="class or interface in java.util">ArrayList</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang">Thread</a>&gt; closingThreads</pre>
<div class="block">A list of threads closing cells in background</div>
</li>
</ul>
<a name="intermediateCellRecordCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>intermediateCellRecordCount</h4>
<pre>protected&nbsp;int[] intermediateCellRecordCount</pre>
<div class="block">Keeps the number of elements written to each cell so far.
 Helps calculating the overhead of RTree indexing</div>
</li>
</ul>
<a name="intermediateCellSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>intermediateCellSize</h4>
<pre>protected&nbsp;int[] intermediateCellSize</pre>
<div class="block">Size in bytes of intermediate files written so far</div>
</li>
</ul>
<a name="NEW_LINE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NEW_LINE</h4>
<pre>protected static&nbsp;byte[] NEW_LINE</pre>
<div class="block">New line marker to separate records</div>
</li>
</ul>
<a name="prefix">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prefix</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> prefix</pre>
<div class="block">A unique prefix to all files written by this writer</div>
</li>
</ul>
<a name="pack">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pack</h4>
<pre>protected&nbsp;boolean pack</pre>
<div class="block">Pack MBR of each cell around its content after it's written to disk</div>
</li>
</ul>
<a name="PackedIndexes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PackedIndexes</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt; PackedIndexes</pre>
<div class="block">A list of indexes the can be optimized by packing each partition to remove
 empty space</div>
</li>
</ul>
<a name="ReplicatedIndexes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ReplicatedIndexes</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt; ReplicatedIndexes</pre>
<div class="block">Indexes where an object might be replicated to multiple partitions.</div>
</li>
</ul>
<a name="ExpandedIndexes">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ExpandedIndexes</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt; ExpandedIndexes</pre>
<div class="block">A list of indexes in which each partition has to be expanded to fully
 contain all the records inside it</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="GridRecordWriter(org.apache.hadoop.fs.Path, org.apache.hadoop.mapred.JobConf, java.lang.String, edu.umn.cs.spatialHadoop.core.CellInfo[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>GridRecordWriter</h4>
<pre>public&nbsp;GridRecordWriter(org.apache.hadoop.fs.Path&nbsp;outDir,
                org.apache.hadoop.mapred.JobConf&nbsp;job,
                <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prefix,
                <a href="../../../../../edu/umn/cs/spatialHadoop/core/CellInfo.html" title="class in edu.umn.cs.spatialHadoop.core">CellInfo</a>[]&nbsp;cells)
                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a new GridRecordWriter that will write all data files to the
 given directory</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>outDir</code> - The directory in which all files will be stored</dd><dd><code>job</code> - The MapReduce job associated with this output</dd><dd><code>prefix</code> - A unique prefix to be associated with files of this writer</dd><dd><code>cells</code> - Cells to partition the file</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getMasterFilePath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMasterFilePath</h4>
<pre>protected&nbsp;org.apache.hadoop.fs.Path&nbsp;getMasterFilePath()
                                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getFilePath(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFilePath</h4>
<pre>protected&nbsp;org.apache.hadoop.fs.Path&nbsp;getFilePath(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename)
                                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns a path to a file with the given name in the output directory
 of the record writer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>filename</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="setStockObject(edu.umn.cs.spatialHadoop.core.Shape)">
<!--   -->
</a><a name="setStockObject(S)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStockObject</h4>
<pre>public&nbsp;void&nbsp;setStockObject(<a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a>&nbsp;stockObject)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html#setStockObject(S)">ShapeRecordWriter</a></code></strong></div>
<div class="block">Sets a stock object used to serialize/deserialize objects when written to
 disk.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html#setStockObject(S)">setStockObject</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html" title="interface in edu.umn.cs.spatialHadoop.core">ShapeRecordWriter</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a> extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="write(org.apache.hadoop.io.NullWritable,edu.umn.cs.spatialHadoop.core.Shape)">
<!--   -->
</a><a name="write(org.apache.hadoop.io.NullWritable, S)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(org.apache.hadoop.io.NullWritable&nbsp;dummy,
         <a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a>&nbsp;shape)
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html#write(org.apache.hadoop.io.NullWritable,%20S)">ShapeRecordWriter</a></code></strong></div>
<div class="block">Writes the given shape to the file to all cells it overlaps with</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html#write(org.apache.hadoop.io.NullWritable,%20S)">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html" title="interface in edu.umn.cs.spatialHadoop.core">ShapeRecordWriter</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a> extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>dummy</code> - A null key that is never used</dd><dd><code>shape</code> - The shape to write to the output</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="write(edu.umn.cs.spatialHadoop.core.CellInfo,edu.umn.cs.spatialHadoop.core.Shape)">
<!--   -->
</a><a name="write(edu.umn.cs.spatialHadoop.core.CellInfo, S)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(<a href="../../../../../edu/umn/cs/spatialHadoop/core/CellInfo.html" title="class in edu.umn.cs.spatialHadoop.core">CellInfo</a>&nbsp;cellInfo,
         <a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a>&nbsp;shape)
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Write the given shape to a specific cell. The shape is not replicated to any other cells.
 It's just written to the given cell. This is useful when shapes are already assigned
 and replicated to grid cells another way, e.g. from a map phase that partitions.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html#write(edu.umn.cs.spatialHadoop.core.CellInfo,%20S)">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html" title="interface in edu.umn.cs.spatialHadoop.core">ShapeRecordWriter</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a> extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>cellInfo</code> - </dd><dd><code>shape</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="write(edu.umn.cs.spatialHadoop.core.Rectangle,edu.umn.cs.spatialHadoop.core.Shape)">
<!--   -->
</a><a name="write(edu.umn.cs.spatialHadoop.core.Rectangle, S)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(<a href="../../../../../edu/umn/cs/spatialHadoop/core/Rectangle.html" title="class in edu.umn.cs.spatialHadoop.core">Rectangle</a>&nbsp;rect,
         <a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a>&nbsp;shape)
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Write a shape given the MBR of its partition. If no partition exists with
 such an MBR, the corresponding partition is added first.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rect</code> - </dd><dd><code>shape</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="write(int,edu.umn.cs.spatialHadoop.core.Shape)">
<!--   -->
</a><a name="write(int, S)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(int&nbsp;cellId,
         <a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a>&nbsp;shape)
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html#write(int,%20S)">ShapeRecordWriter</a></code></strong></div>
<div class="block">Writes the given shape to the specified cell</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html#write(int,%20S)">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html" title="interface in edu.umn.cs.spatialHadoop.core">ShapeRecordWriter</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a> extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="writeInternal(int,edu.umn.cs.spatialHadoop.core.Shape)">
<!--   -->
</a><a name="writeInternal(int, S)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeInternal</h4>
<pre>protected&nbsp;void&nbsp;writeInternal(int&nbsp;cellIndex,
                 <a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a>&nbsp;shape)
                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Write the given shape to the cellIndex indicated.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cellIndex</code> - </dd><dd><code>shape</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getIntermediateCellStream(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIntermediateCellStream</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;getIntermediateCellStream(int&nbsp;cellIndex)
                                          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns an output stream in which records are written as they come before
 they are finally flushed to the cell file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cellIndex</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="createFinalCellStream(org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createFinalCellStream</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;createFinalCellStream(org.apache.hadoop.fs.Path&nbsp;cellFilePath)
                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates an output stream that will be used to write the final cell file</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cellFilePath</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="closeCell(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeCell</h4>
<pre>protected&nbsp;void&nbsp;closeCell(int&nbsp;cellIndex)
                  throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Closes (or initiates a close command) for the cell with the given index.
 Once this method returns, it should be safe to reuse the same cell index
 to write more data in a new file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cellIndex</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="closeCellBackground(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path, java.io.OutputStream, java.io.OutputStream, edu.umn.cs.spatialHadoop.core.CellInfo, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeCellBackground</h4>
<pre>protected&nbsp;void&nbsp;closeCellBackground(org.apache.hadoop.fs.Path&nbsp;intermediateCellPath,
                       org.apache.hadoop.fs.Path&nbsp;finalCellPath,
                       <a href="http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;intermediateCellStream,
                       <a href="http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;masterFile,
                       <a href="../../../../../edu/umn/cs/spatialHadoop/core/CellInfo.html" title="class in edu.umn.cs.spatialHadoop.core">CellInfo</a>&nbsp;cellMbr,
                       long&nbsp;recordCount,
                       long&nbsp;cellSize)
                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Close the given cell freeing all memory reserved by it.
 Once a cell is closed, we should not write more data to it.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>intermediateCellPath</code> - </dd><dd><code>finalCellPath</code> - </dd><dd><code>intermediateCellStream</code> - </dd><dd><code>masterFile</code> - </dd><dd><code>cellMbr</code> - </dd><dd><code>recordCount</code> - </dd><dd><code>cellSize</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="flushAllEntries(org.apache.hadoop.fs.Path, java.io.OutputStream, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushAllEntries</h4>
<pre>protected&nbsp;org.apache.hadoop.fs.Path&nbsp;flushAllEntries(org.apache.hadoop.fs.Path&nbsp;intermediateCellPath,
                                        <a href="http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;intermediateCellStream,
                                        org.apache.hadoop.fs.Path&nbsp;finalCellPath)
                                             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Flushes all shapes that were written to one cell to the final file.
 It returns a path to a (closed) file that contains all entries written.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>intermediateCellPath</code> - </dd><dd><code>intermediateCellStream</code> - </dd><dd><code>finalCellPath</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="close(org.apache.hadoop.util.Progressable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close(org.apache.hadoop.util.Progressable&nbsp;progressable)
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Close the whole writer. Finalize all cell files and concatenate them
 into the output file.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html#close(org.apache.hadoop.util.Progressable)">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../edu/umn/cs/spatialHadoop/core/ShapeRecordWriter.html" title="interface in edu.umn.cs.spatialHadoop.core">ShapeRecordWriter</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" title="type parameter in GridRecordWriter">S</a> extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>progressable</code> - To report the progress if the closing process takes
  a very long time.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getFinalCellPath(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getFinalCellPath</h4>
<pre>protected&nbsp;org.apache.hadoop.fs.Path&nbsp;getFinalCellPath(int&nbsp;cellIndex)
                                              throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns path to a file in which the final cell will be written.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cellIndex</code> - The index of the cell to retrieve its output path.</dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GridRecordWriter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/umn/cs/spatialHadoop/core/GridInfo.html" title="class in edu.umn.cs.spatialHadoop.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../edu/umn/cs/spatialHadoop/core/OGCESRIShape.html" title="class in edu.umn.cs.spatialHadoop.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/umn/cs/spatialHadoop/core/GridRecordWriter.html" target="_top">Frames</a></li>
<li><a href="GridRecordWriter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All rights reserved.</small></p>
</body>
</html>
