<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_76) on Tue Jun 07 14:33:00 CDT 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RTree (SpatialHadoop 2.4.1-SNAPSHOT API)</title>
<meta name="date" content="2016-06-07">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RTree (SpatialHadoop 2.4.1-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RTree.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/QuadTreePartitioner.html" title="class in edu.umn.cs.spatialHadoop.indexing"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.SearchIterator.html" title="class in edu.umn.cs.spatialHadoop.indexing"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/umn/cs/spatialHadoop/indexing/RTree.html" target="_top">Frames</a></li>
<li><a href="RTree.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.umn.cs.spatialHadoop.indexing</div>
<h2 title="Class RTree" class="title">Class RTree&lt;T extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>edu.umn.cs.spatialHadoop.indexing.RTree&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>T</code> - </dd></dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/6/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;T&gt;, org.apache.hadoop.io.Writable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">RTree&lt;T extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements org.apache.hadoop.io.Writable, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;T&gt;, <a href="http://docs.oracle.com/javase/6/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></pre>
<div class="block">A disk-based R-tree that can be loaded using a bulk loading method and
 never changed afterwards. It works with any shape given in the generic
 parameter. To load the tree, use the <a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#bulkLoadWrite(byte[],%20int,%20int,%20int,%20java.io.DataOutput,%20edu.umn.cs.spatialHadoop.core.Shape,%20boolean)"><code>bulkLoadWrite(byte[], int, int, int, DataOutput, Shape, boolean)</code></a>
 method. To restore the tree from disk, use the <a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#readFields(java.io.DataInput)"><code>readFields(DataInput)</code></a>
 methods. To do queries against the tree, use the <a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#search(edu.umn.cs.spatialHadoop.core.Shape,%20edu.umn.cs.spatialHadoop.core.ResultCollector)"><code>search(Shape, ResultCollector)</code></a>,
  <a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#knn(double,%20double,%20int,%20edu.umn.cs.spatialHadoop.core.ResultCollector2)"><code>knn(double, double, int, ResultCollector2)</code></a> or
  <a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#spatialJoin(edu.umn.cs.spatialHadoop.indexing.RTree,%20edu.umn.cs.spatialHadoop.indexing.RTree,%20edu.umn.cs.spatialHadoop.core.ResultCollector2,%20org.apache.hadoop.mapred.Reporter)"><code>spatialJoin(RTree, RTree, ResultCollector2, Reporter)</code></a></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Ahmed Eldawy</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.SearchIterator.html" title="class in edu.umn.cs.spatialHadoop.indexing">RTree.SearchIterator</a></strong></code>
<div class="block">An iterator used to return all search results</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#NodeSize">NodeSize</a></strong></code>
<div class="block">Size of a node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#TreeHeaderSize">TreeHeaderSize</a></strong></code>
<div class="block">Size of tree header on disk.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#RTree()">RTree</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#bulkLoadWrite(byte[],%20int,%20int,%20int,%20java.io.DataOutput,%20edu.umn.cs.spatialHadoop.core.Shape,%20boolean)">bulkLoadWrite</a></strong>(byte[]&nbsp;element_bytes,
             int&nbsp;offset,
             int&nbsp;len,
             int&nbsp;degree,
             <a href="http://docs.oracle.com/javase/6/docs/api/java/io/DataOutput.html?is-external=true" title="class or interface in java.io">DataOutput</a>&nbsp;dataOut,
             <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&nbsp;stockObject,
             boolean&nbsp;fast_sort)</code>
<div class="block">Builds the RTree given a serialized list of elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#calculateStorageOverhead(int,%20int)">calculateStorageOverhead</a></strong>(int&nbsp;elementCount,
                        int&nbsp;degree)</code>
<div class="block">Calculate the storage overhead required to build an RTree for the given
 number of nodes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#calculateTreeStorage(int,%20int)">calculateTreeStorage</a></strong>(int&nbsp;elementCount,
                    int&nbsp;degree)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#close()">close</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#fastLog(int)">fastLog</a></strong>(int&nbsp;x)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#fastPow(double,%20double)">fastPow</a></strong>(double&nbsp;a,
       double&nbsp;b)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#findBestDegree(int,%20int)">findBestDegree</a></strong>(int&nbsp;bytesAvailable,
              int&nbsp;recordCount)</code>
<div class="block">Find the best (minimum) degree that can index the given number of records
 such that the whole tree structure can be stored in the given bytes
 available.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#getBlockCapacity(long,%20int,%20int)">getBlockCapacity</a></strong>(long&nbsp;blockSize,
                int&nbsp;degree,
                int&nbsp;recordSize)</code>
<div class="block">Given a block size, record size and a required tree degree, this function
 calculates the maximum number of records that can be stored in this
 block taking into consideration the overhead needed by node structure.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#getElementCount()">getElementCount</a></strong>()</code>
<div class="block">Returns total number of elements</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#getEndOffset()">getEndOffset</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#getHeaderSize(java.io.DataInput)">getHeaderSize</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/io/DataInput.html?is-external=true" title="class or interface in java.io">DataInput</a>&nbsp;in)</code>
<div class="block">Returns the total size of the header (including the index) in bytes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../edu/umn/cs/spatialHadoop/core/Rectangle.html" title="class in edu.umn.cs.spatialHadoop.core">Rectangle</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#getMBR()">getMBR</a></strong>()</code>
<div class="block">Returns the MBR of the root</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#iterator()">iterator</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#knn(double,%20double,%20int,%20edu.umn.cs.spatialHadoop.core.ResultCollector2)">knn</a></strong>(double&nbsp;qx,
   double&nbsp;qy,
   int&nbsp;k,
   <a href="../../../../../edu/umn/cs/spatialHadoop/core/ResultCollector2.html" title="interface in edu.umn.cs.spatialHadoop.core">ResultCollector2</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a>&gt;&nbsp;output)</code>
<div class="block">k nearest neighbor query</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#log2Floor(int)">log2Floor</a></strong>(int&nbsp;x)</code>
<div class="block">Find log to the base 2 quickly</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#main(java.lang.String[])">main</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</code>
<div class="block">A main method that creates a single R-tree out of a single file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../edu/umn/cs/spatialHadoop/core/Rectangle.html" title="class in edu.umn.cs.spatialHadoop.core">Rectangle</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#packInRectangles(edu.umn.cs.spatialHadoop.core.GridInfo,%20edu.umn.cs.spatialHadoop.core.Point[])">packInRectangles</a></strong>(<a href="../../../../../edu/umn/cs/spatialHadoop/core/GridInfo.html" title="class in edu.umn.cs.spatialHadoop.core">GridInfo</a>&nbsp;gridInfo,
                <a href="../../../../../edu/umn/cs/spatialHadoop/core/Point.html" title="class in edu.umn.cs.spatialHadoop.core">Point</a>[]&nbsp;sample)</code>
<div class="block">Create rectangles that together pack all points in sample such that
 each rectangle contains roughly the same number of points.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#powInt(int,%20int)">powInt</a></strong>(int&nbsp;base,
      int&nbsp;exponent)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#readElement(int)">readElement</a></strong>(int&nbsp;i)</code>
<div class="block">Reads and returns the element with the given index</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#readFields(java.io.DataInput)">readFields</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/io/DataInput.html?is-external=true" title="class or interface in java.io">DataInput</a>&nbsp;in)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#search(edu.umn.cs.spatialHadoop.core.Shape)">search</a></strong>(<a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&nbsp;queryShape)</code>
<div class="block">Searches the tree for all shapes overlapping the queryShape and returns
 an iterator for all these shapes</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#search(edu.umn.cs.spatialHadoop.core.Shape,%20edu.umn.cs.spatialHadoop.core.ResultCollector)">search</a></strong>(<a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&nbsp;query,
      <a href="../../../../../edu/umn/cs/spatialHadoop/core/ResultCollector.html" title="interface in edu.umn.cs.spatialHadoop.core">ResultCollector</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a>&gt;&nbsp;output)</code>
<div class="block">Performs a range query over this tree using the given query range.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#search(edu.umn.cs.spatialHadoop.core.Shape,%20edu.umn.cs.spatialHadoop.core.ResultCollector,%20int,%20int)">search</a></strong>(<a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&nbsp;query_shape,
      <a href="../../../../../edu/umn/cs/spatialHadoop/core/ResultCollector.html" title="interface in edu.umn.cs.spatialHadoop.core">ResultCollector</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a>&gt;&nbsp;output,
      int&nbsp;start,
      int&nbsp;end)</code>
<div class="block">Searches the RTree starting from the given start position.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#setStockObject(T)">setStockObject</a></strong>(<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a>&nbsp;stockObject)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#skipHeader(java.io.InputStream)">skipHeader</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in)</code>
<div class="block">Reads and skips the header of the tree returning the total number of
 bytes skipped from the stream.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#skipToEOL(byte[],%20int)">skipToEOL</a></strong>(byte[]&nbsp;bytes,
         int&nbsp;startOffset)</code>
<div class="block">Skip bytes until the end of line</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static &lt;S1 extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>,S2 extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;&nbsp;<br>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#spatialJoin(edu.umn.cs.spatialHadoop.indexing.RTree,%20edu.umn.cs.spatialHadoop.indexing.RTree,%20edu.umn.cs.spatialHadoop.core.ResultCollector2,%20org.apache.hadoop.mapred.Reporter)">spatialJoin</a></strong>(<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="class in edu.umn.cs.spatialHadoop.indexing">RTree</a>&lt;S1&gt;&nbsp;R,
           <a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="class in edu.umn.cs.spatialHadoop.indexing">RTree</a>&lt;S2&gt;&nbsp;S,
           <a href="../../../../../edu/umn/cs/spatialHadoop/core/ResultCollector2.html" title="interface in edu.umn.cs.spatialHadoop.core">ResultCollector2</a>&lt;S1,S2&gt;&nbsp;output,
           org.apache.hadoop.mapred.Reporter&nbsp;reporter)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static &lt;S1 extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>,S2 extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;&nbsp;<br>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#spatialJoinDisk(edu.umn.cs.spatialHadoop.indexing.RTree,%20edu.umn.cs.spatialHadoop.indexing.RTree,%20edu.umn.cs.spatialHadoop.core.ResultCollector2,%20org.apache.hadoop.mapred.Reporter)">spatialJoinDisk</a></strong>(<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="class in edu.umn.cs.spatialHadoop.indexing">RTree</a>&lt;S1&gt;&nbsp;R,
               <a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="class in edu.umn.cs.spatialHadoop.indexing">RTree</a>&lt;S2&gt;&nbsp;S,
               <a href="../../../../../edu/umn/cs/spatialHadoop/core/ResultCollector2.html" title="interface in edu.umn.cs.spatialHadoop.core">ResultCollector2</a>&lt;S1,S2&gt;&nbsp;output,
               org.apache.hadoop.mapred.Reporter&nbsp;reporter)</code>
<div class="block">Performs a spatial join between records in two R-trees</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static &lt;S1 extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>,S2 extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;&nbsp;<br>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#spatialJoinMemory(edu.umn.cs.spatialHadoop.indexing.RTree,%20edu.umn.cs.spatialHadoop.indexing.RTree,%20edu.umn.cs.spatialHadoop.core.ResultCollector2,%20org.apache.hadoop.mapred.Reporter)">spatialJoinMemory</a></strong>(<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="class in edu.umn.cs.spatialHadoop.indexing">RTree</a>&lt;S1&gt;&nbsp;R,
                 <a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="class in edu.umn.cs.spatialHadoop.indexing">RTree</a>&lt;S2&gt;&nbsp;S,
                 <a href="../../../../../edu/umn/cs/spatialHadoop/core/ResultCollector2.html" title="interface in edu.umn.cs.spatialHadoop.core">ResultCollector2</a>&lt;S1,S2&gt;&nbsp;output,
                 org.apache.hadoop.mapred.Reporter&nbsp;reporter)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#toWKT(java.io.PrintStream)">toWKT</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/io/PrintStream.html?is-external=true" title="class or interface in java.io">PrintStream</a>&nbsp;out)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html#write(java.io.DataOutput)">write</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/io/DataOutput.html?is-external=true" title="class or interface in java.io">DataOutput</a>&nbsp;out)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="TreeHeaderSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TreeHeaderSize</h4>
<pre>public static final&nbsp;int TreeHeaderSize</pre>
<div class="block">Size of tree header on disk. Height + Degree + Number of records</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#edu.umn.cs.spatialHadoop.indexing.RTree.TreeHeaderSize">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="NodeSize">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NodeSize</h4>
<pre>public static final&nbsp;int NodeSize</pre>
<div class="block">Size of a node. Offset of first child + dimensions (x, y, width, height)</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#edu.umn.cs.spatialHadoop.indexing.RTree.NodeSize">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RTree()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RTree</h4>
<pre>public&nbsp;RTree()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="bulkLoadWrite(byte[], int, int, int, java.io.DataOutput, edu.umn.cs.spatialHadoop.core.Shape, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bulkLoadWrite</h4>
<pre>public static&nbsp;void&nbsp;bulkLoadWrite(byte[]&nbsp;element_bytes,
                 int&nbsp;offset,
                 int&nbsp;len,
                 int&nbsp;degree,
                 <a href="http://docs.oracle.com/javase/6/docs/api/java/io/DataOutput.html?is-external=true" title="class or interface in java.io">DataOutput</a>&nbsp;dataOut,
                 <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&nbsp;stockObject,
                 boolean&nbsp;fast_sort)</pre>
<div class="block">Builds the RTree given a serialized list of elements. It uses the given
 stockObject to deserialize these elements using
 <a href="../../../../../edu/umn/cs/spatialHadoop/io/TextSerializable.html#fromText(org.apache.hadoop.io.Text)"><code>TextSerializable.fromText(Text)</code></a> and build the tree. Also writes the
 created tree to the disk directly.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>element_bytes</code> - - serialization of all elements separated by new lines</dd><dd><code>offset</code> - - offset of the first byte to use in elements_bytes</dd><dd><code>len</code> - - number of bytes to use in elements_bytes</dd><dd><code>degree</code> - - Degree of the R-tree to build in terms of number of children per
          node</dd><dd><code>dataOut</code> - - output stream to write the result to.</dd><dd><code>fast_sort</code> - - setting this to <code>true</code> allows the method to run
          faster by materializing the offset of each element in the list
          which speeds up the comparison. However, this requires an
          additional 16 bytes per element. So, for each 1M elements, the
          method will require an additional 16 M bytes (approximately).</dd></dl>
</li>
</ul>
<a name="write(java.io.DataOutput)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(<a href="http://docs.oracle.com/javase/6/docs/api/java/io/DataOutput.html?is-external=true" title="class or interface in java.io">DataOutput</a>&nbsp;out)
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>write</code>&nbsp;in interface&nbsp;<code>org.apache.hadoop.io.Writable</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="readFields(java.io.DataInput)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readFields</h4>
<pre>public&nbsp;void&nbsp;readFields(<a href="http://docs.oracle.com/javase/6/docs/api/java/io/DataInput.html?is-external=true" title="class or interface in java.io">DataInput</a>&nbsp;in)
                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>readFields</code>&nbsp;in interface&nbsp;<code>org.apache.hadoop.io.Writable</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="skipHeader(java.io.InputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skipHeader</h4>
<pre>public static&nbsp;int&nbsp;skipHeader(<a href="http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in)
                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Reads and skips the header of the tree returning the total number of
 bytes skipped from the stream. This is used as a preparatory function to
 read all elements in the tree without the index part.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>in</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>- Total number of bytes read and skipped</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getHeaderSize(java.io.DataInput)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeaderSize</h4>
<pre>public static&nbsp;int&nbsp;getHeaderSize(<a href="http://docs.oracle.com/javase/6/docs/api/java/io/DataInput.html?is-external=true" title="class or interface in java.io">DataInput</a>&nbsp;in)
                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns the total size of the header (including the index) in bytes.
 Assume that the input is aligned to the start offset of the tree (header).
 Note that the part of the header is consumed from the given input to be
 able to determine header size.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>in</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getEndOffset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndOffset</h4>
<pre>public&nbsp;long&nbsp;getEndOffset()</pre>
</li>
</ul>
<a name="getElementCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getElementCount</h4>
<pre>public&nbsp;int&nbsp;getElementCount()</pre>
<div class="block">Returns total number of elements</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getMBR()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMBR</h4>
<pre>public&nbsp;<a href="../../../../../edu/umn/cs/spatialHadoop/core/Rectangle.html" title="class in edu.umn.cs.spatialHadoop.core">Rectangle</a>&nbsp;getMBR()</pre>
<div class="block">Returns the MBR of the root</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="readElement(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readElement</h4>
<pre>public&nbsp;<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a>&nbsp;readElement(int&nbsp;i)</pre>
<div class="block">Reads and returns the element with the given index</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>i</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="setStockObject(edu.umn.cs.spatialHadoop.core.Shape)">
<!--   -->
</a><a name="setStockObject(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStockObject</h4>
<pre>public&nbsp;void&nbsp;setStockObject(<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a>&nbsp;stockObject)</pre>
</li>
</ul>
<a name="packInRectangles(edu.umn.cs.spatialHadoop.core.GridInfo, edu.umn.cs.spatialHadoop.core.Point[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>packInRectangles</h4>
<pre>public static&nbsp;<a href="../../../../../edu/umn/cs/spatialHadoop/core/Rectangle.html" title="class in edu.umn.cs.spatialHadoop.core">Rectangle</a>[]&nbsp;packInRectangles(<a href="../../../../../edu/umn/cs/spatialHadoop/core/GridInfo.html" title="class in edu.umn.cs.spatialHadoop.core">GridInfo</a>&nbsp;gridInfo,
                           <a href="../../../../../edu/umn/cs/spatialHadoop/core/Point.html" title="class in edu.umn.cs.spatialHadoop.core">Point</a>[]&nbsp;sample)</pre>
<div class="block">Create rectangles that together pack all points in sample such that
 each rectangle contains roughly the same number of points. In other words
 it tries to balance number of points in each rectangle.
 Works similar to the logic of bulkLoad but does only one level of
 rectangles.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>gridInfo</code> - Used as a hint for number of rectangles per row or column</dd><dd><code>sample</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="skipToEOL(byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skipToEOL</h4>
<pre>public static&nbsp;int&nbsp;skipToEOL(byte[]&nbsp;bytes,
            int&nbsp;startOffset)</pre>
<div class="block">Skip bytes until the end of line</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bytes</code> - </dd><dd><code>startOffset</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="iterator()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iterator</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a>&gt;&nbsp;iterator()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true#iterator()" title="class or interface in java.lang">iterator</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a> extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="getBlockCapacity(long, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlockCapacity</h4>
<pre>public static&nbsp;int&nbsp;getBlockCapacity(long&nbsp;blockSize,
                   int&nbsp;degree,
                   int&nbsp;recordSize)</pre>
<div class="block">Given a block size, record size and a required tree degree, this function
 calculates the maximum number of records that can be stored in this
 block taking into consideration the overhead needed by node structure.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>blockSize</code> - </dd><dd><code>degree</code> - </dd><dd><code>recordSize</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="search(edu.umn.cs.spatialHadoop.core.Shape, edu.umn.cs.spatialHadoop.core.ResultCollector, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>search</h4>
<pre>protected&nbsp;int&nbsp;search(<a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&nbsp;query_shape,
         <a href="../../../../../edu/umn/cs/spatialHadoop/core/ResultCollector.html" title="interface in edu.umn.cs.spatialHadoop.core">ResultCollector</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a>&gt;&nbsp;output,
         int&nbsp;start,
         int&nbsp;end)
              throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Searches the RTree starting from the given start position. This is either
 a node number or offset of an element. If it's a node number, it performs
 the search in the subtree rooted at this node. If it's an offset number,
 it searches only the object found there.
 It is assumed that the openQuery() has been called before this function
 and that endQuery() will be called afterwards.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>query_shape</code> - </dd><dd><code>output</code> - </dd><dd><code>start</code> - where to start searching</dd><dd><code>end</code> - where to end searching. Only used when start is an offset of
   an object.</dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="search(edu.umn.cs.spatialHadoop.core.Shape)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>search</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a>&gt;&nbsp;search(<a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&nbsp;queryShape)</pre>
<div class="block">Searches the tree for all shapes overlapping the queryShape and returns
 an iterator for all these shapes</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>queryShape</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="search(edu.umn.cs.spatialHadoop.core.Shape, edu.umn.cs.spatialHadoop.core.ResultCollector)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>search</h4>
<pre>public&nbsp;int&nbsp;search(<a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&nbsp;query,
         <a href="../../../../../edu/umn/cs/spatialHadoop/core/ResultCollector.html" title="interface in edu.umn.cs.spatialHadoop.core">ResultCollector</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a>&gt;&nbsp;output)</pre>
<div class="block">Performs a range query over this tree using the given query range.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>query</code> - - The query rectangle to use (TODO make it any shape not just rectangle)</dd><dd><code>output</code> - - Shapes found are reported to this output. If null, results are not reported</dd>
<dt><span class="strong">Returns:</span></dt><dd>- Total number of records found</dd></dl>
</li>
</ul>
<a name="knn(double, double, int, edu.umn.cs.spatialHadoop.core.ResultCollector2)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>knn</h4>
<pre>public&nbsp;int&nbsp;knn(double&nbsp;qx,
      double&nbsp;qy,
      int&nbsp;k,
      <a href="../../../../../edu/umn/cs/spatialHadoop/core/ResultCollector2.html" title="interface in edu.umn.cs.spatialHadoop.core">ResultCollector2</a>&lt;<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="type parameter in RTree">T</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a>&gt;&nbsp;output)</pre>
<div class="block">k nearest neighbor query</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>qx</code> - </dd><dd><code>qy</code> - </dd><dd><code>k</code> - </dd><dd><code>output</code> - </dd></dl>
</li>
</ul>
<a name="spatialJoinMemory(edu.umn.cs.spatialHadoop.indexing.RTree, edu.umn.cs.spatialHadoop.indexing.RTree, edu.umn.cs.spatialHadoop.core.ResultCollector2, org.apache.hadoop.mapred.Reporter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>spatialJoinMemory</h4>
<pre>protected static&nbsp;&lt;S1 extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>,S2 extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;&nbsp;int&nbsp;spatialJoinMemory(<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="class in edu.umn.cs.spatialHadoop.indexing">RTree</a>&lt;S1&gt;&nbsp;R,
                                                        <a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="class in edu.umn.cs.spatialHadoop.indexing">RTree</a>&lt;S2&gt;&nbsp;S,
                                                        <a href="../../../../../edu/umn/cs/spatialHadoop/core/ResultCollector2.html" title="interface in edu.umn.cs.spatialHadoop.core">ResultCollector2</a>&lt;S1,S2&gt;&nbsp;output,
                                                        org.apache.hadoop.mapred.Reporter&nbsp;reporter)
                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="spatialJoinDisk(edu.umn.cs.spatialHadoop.indexing.RTree, edu.umn.cs.spatialHadoop.indexing.RTree, edu.umn.cs.spatialHadoop.core.ResultCollector2, org.apache.hadoop.mapred.Reporter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>spatialJoinDisk</h4>
<pre>protected static&nbsp;&lt;S1 extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>,S2 extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;&nbsp;int&nbsp;spatialJoinDisk(<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="class in edu.umn.cs.spatialHadoop.indexing">RTree</a>&lt;S1&gt;&nbsp;R,
                                                      <a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="class in edu.umn.cs.spatialHadoop.indexing">RTree</a>&lt;S2&gt;&nbsp;S,
                                                      <a href="../../../../../edu/umn/cs/spatialHadoop/core/ResultCollector2.html" title="interface in edu.umn.cs.spatialHadoop.core">ResultCollector2</a>&lt;S1,S2&gt;&nbsp;output,
                                                      org.apache.hadoop.mapred.Reporter&nbsp;reporter)
                              throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Performs a spatial join between records in two R-trees</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>R</code> - </dd><dd><code>S</code> - </dd><dd><code>output</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - SuppresWarnings("resource") is used because we create LineReaders on the
 internal data stream of both R and S. We do not want to close the
 LineReader because it will subsequently close the internal data stream
 of R and S which is something we want to avoid because both R and S are
 not created by this function and it should not free these resources.</dd></dl>
</li>
</ul>
<a name="spatialJoin(edu.umn.cs.spatialHadoop.indexing.RTree, edu.umn.cs.spatialHadoop.indexing.RTree, edu.umn.cs.spatialHadoop.core.ResultCollector2, org.apache.hadoop.mapred.Reporter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>spatialJoin</h4>
<pre>public static&nbsp;&lt;S1 extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>,S2 extends <a href="../../../../../edu/umn/cs/spatialHadoop/core/Shape.html" title="interface in edu.umn.cs.spatialHadoop.core">Shape</a>&gt;&nbsp;int&nbsp;spatialJoin(<a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="class in edu.umn.cs.spatialHadoop.indexing">RTree</a>&lt;S1&gt;&nbsp;R,
                                                  <a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.html" title="class in edu.umn.cs.spatialHadoop.indexing">RTree</a>&lt;S2&gt;&nbsp;S,
                                                  <a href="../../../../../edu/umn/cs/spatialHadoop/core/ResultCollector2.html" title="interface in edu.umn.cs.spatialHadoop.core">ResultCollector2</a>&lt;S1,S2&gt;&nbsp;output,
                                                  org.apache.hadoop.mapred.Reporter&nbsp;reporter)
                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="calculateStorageOverhead(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateStorageOverhead</h4>
<pre>public static&nbsp;int&nbsp;calculateStorageOverhead(int&nbsp;elementCount,
                           int&nbsp;degree)</pre>
<div class="block">Calculate the storage overhead required to build an RTree for the given
 number of nodes.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>- storage overhead in bytes</dd></dl>
</li>
</ul>
<a name="log2Floor(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log2Floor</h4>
<pre>public static&nbsp;int&nbsp;log2Floor(int&nbsp;x)</pre>
<div class="block">Find log to the base 2 quickly</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>x</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="powInt(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>powInt</h4>
<pre>public static&nbsp;int&nbsp;powInt(int&nbsp;base,
         int&nbsp;exponent)</pre>
</li>
</ul>
<a name="fastLog(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fastLog</h4>
<pre>public static&nbsp;double&nbsp;fastLog(int&nbsp;x)</pre>
</li>
</ul>
<a name="fastPow(double, double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fastPow</h4>
<pre>public static&nbsp;double&nbsp;fastPow(double&nbsp;a,
             double&nbsp;b)</pre>
</li>
</ul>
<a name="findBestDegree(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findBestDegree</h4>
<pre>public static&nbsp;int&nbsp;findBestDegree(int&nbsp;bytesAvailable,
                 int&nbsp;recordCount)</pre>
<div class="block">Find the best (minimum) degree that can index the given number of records
 such that the whole tree structure can be stored in the given bytes
 available.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bytesAvailable</code> - </dd><dd><code>recordCount</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="calculateTreeStorage(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateTreeStorage</h4>
<pre>public static&nbsp;int&nbsp;calculateTreeStorage(int&nbsp;elementCount,
                       int&nbsp;degree)</pre>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="toWKT(java.io.PrintStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toWKT</h4>
<pre>public&nbsp;void&nbsp;toWKT(<a href="http://docs.oracle.com/javase/6/docs/api/java/io/PrintStream.html?is-external=true" title="class or interface in java.io">PrintStream</a>&nbsp;out)
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)
                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">A main method that creates a single R-tree out of a single file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>args</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RTree.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/QuadTreePartitioner.html" title="class in edu.umn.cs.spatialHadoop.indexing"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../edu/umn/cs/spatialHadoop/indexing/RTree.SearchIterator.html" title="class in edu.umn.cs.spatialHadoop.indexing"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/umn/cs/spatialHadoop/indexing/RTree.html" target="_top">Frames</a></li>
<li><a href="RTree.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All rights reserved.</small></p>
</body>
</html>
